---
import PageLayout from '@/layouts/PageLayout.astro';
import Container from '@/components/astro/Container.astro';
import CardGrid from '@/components/astro/CardGrid.astro';
import { fetchAPI } from '@/lib/datocms';
import { ALL_ARTICLES_QUERY } from '@/graphql/posts';

const data = await fetchAPI(ALL_ARTICLES_QUERY);
const articles = data.allArticles ?? [];
---

<PageLayout title="Blog | Adithya NR">
  <Container>
    <div class="mt-8 mb-12" data-animate>
      <span class="inline-flex items-center gap-2 text-sm font-body font-medium text-[var(--accent)] tracking-wide uppercase mb-6">
        <span class="inline-block w-6 h-[2px] bg-[var(--accent)]"></span>
        Blog
      </span>
      <h1 class="font-display text-4xl md:text-5xl tracking-tight">
        Articles
      </h1>
    </div>
    <CardGrid items={articles} type="article" />
  </Container>
</PageLayout>
