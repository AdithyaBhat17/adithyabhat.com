---
const routes = [
  { name: 'About', link: '/about' },
  { name: 'Blog', link: '/blog' },
  { name: 'Work', link: '/work' },
  { name: 'Gallery', link: '/photos' },
  { name: 'Contact', link: '/contact' },
];

const currentPath = Astro.url.pathname;
const isPhotosPage = currentPath === '/photos';
const padding = isPhotosPage ? 'px-6 md:px-16' : 'px-6 md:px-36 lg:px-48';

function isActive(link: string): boolean {
  if (link === '/') return currentPath === '/';
  return currentPath.startsWith(link);
}
---

<nav class:list={[
  'flex sticky w-full top-0 mb-6 items-center justify-between flex-wrap py-4 text-gray-900 z-50',
  'bg-white/50 backdrop-blur-md',
  padding
]}>
  <div class="flex justify-start items-center">
    <a href="/" class="hover:opacity-80 transition-opacity">
      <img
        class="lg:h-16 lg:w-16 w-12 h-12"
        src="/static/logo_black.svg"
        alt="Adithya NR logo"
      />
    </a>
    <span class="sm:inline hidden ml-6 text-[var(--muted-foreground)] capitalize text-sm font-sans">
      {currentPath.split('/')[1] || ''}
    </span>
  </div>

  <ul class="flex justify-between gap-x-4 md:gap-x-8 w-full md:w-auto mt-4 md:mt-0">
    {routes.map((route) => (
      <li>
        <a
          href={route.link}
          class:list={[
            'text-sm font-sans transition-all duration-200 pb-1 border-b-2',
            isActive(route.link)
              ? 'border-[var(--foreground)] text-[var(--foreground)] font-medium'
              : 'border-transparent text-[var(--foreground)] hover:border-[var(--foreground)]'
          ]}
        >
          {route.name}
        </a>
      </li>
    ))}
  </ul>
</nav>
