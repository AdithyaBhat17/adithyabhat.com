---
const routes = [
  { name: 'About', link: '/about' },
  { name: 'Work', link: '/work' },
  { name: 'Blog', link: '/blog' },
  { name: 'Gallery', link: '/photos' },
  { name: 'Contact', link: '/contact' },
];

const currentPath = Astro.url.pathname;
const isPhotosPage = currentPath === '/photos';
const padding = isPhotosPage ? 'px-6 md:px-16' : 'px-6 md:px-12 lg:px-20 xl:px-32';

function isActive(link: string): boolean {
  if (link === '/') return currentPath === '/';
  return currentPath.startsWith(link);
}
---

<nav class:list={[
  'flex sticky w-full top-0 items-center justify-between py-5 z-50',
  'bg-[#09090b]/70 backdrop-blur-xl border-b border-white/[0.04]',
  padding
]}>
  <div class="flex items-center gap-3">
    <a href="/" class="group flex items-center gap-3 hover:opacity-90 transition-opacity">
      <img
        class="h-9 w-9"
        src="/static/logo_white.svg"
        alt="Adithya NR logo"
      />
      <span class="hidden sm:inline font-display text-sm font-semibold text-[var(--text)] tracking-tight">
        adithya
      </span>
    </a>
  </div>

  <ul class="flex items-center gap-1">
    {routes.map((route) => (
      <li>
        <a
          href={route.link}
          class:list={[
            'text-sm font-body px-3 py-1.5 rounded-lg transition-all duration-200',
            isActive(route.link)
              ? 'text-[var(--text)] bg-white/[0.06]'
              : 'text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-white/[0.04]'
          ]}
        >
          {route.name}
        </a>
      </li>
    ))}
  </ul>
</nav>
